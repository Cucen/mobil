var http = require('http');
var mysql = require('mysql');
// Create a connection to MySql Server and Database
var connection = mysql.createConnection(
{
  host : 'localhost',
  port : 3306,
  database: 'secim',
  user : 'root',
  password : '333444'
});
// Create a simple Web Server to respond to requests
http.createServer(function(req, res)
{
    // RECEIVED A REQUEST!
    // for this example respond with a HTTP 200 OK
    res.writeHeader(200);
    res.write('Connect to mySql\n');
    // Connect to mySql (if there is an erro, report it and terminate de request)
    connection.connect(function(err)
	{
        if(err != null) 
		{
            res.end('Error connecting to mysql:' + err+'\n');
        }
    }
	);
      // Query the database to some data 
	  
    var sql = 'SELECT il_Adi FROM Iller where Id<3';
    connection.query(sql, function(err, rows, fields) 
	{
       if (err) throw err;
       console.log('Query result: ', rows);
       connection.end();
    }
	);
    var sql = 'SELECT ilce_Adi FROM Ilceler where Id<5';
    connection.query(sql, function(err, rows, fields) 
	{
     if (err) throw err;
     console.log('Query result: ', rows);
     connection.end();
    }
	);
// Method
// Method

function getIller()
{
    var sql = 'select * from Iller ';
    connection.query(sql,function(err, rows, fields) 
	{
     if (err) throw err;
     console.log('Query result: ', rows);
     connection.end();
    }
	);	
}

tableHasData = function(client)
{
    client.query('SELECT * FROM iller', function selectCb(err, results, fields) 
	{
        if (err) 
		{
            console.log("ERROR: " + err.message);
            throw err;
        }
        console.log("Got "+results.length+" Rows:");
        console.log(results);
        //console.log("The meta data about the columns:");
        //console.log(fields);
        client.end();
        });
};
// The server will be listen on port 8080 
}).listen(8080);